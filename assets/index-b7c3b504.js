import{r as a,a as p,j as s,P as f,u as j,d as S}from"./index-c3dc86a6.js";const O=t=>{const[o,e]=a.useState(!1);return{handleChange:u=>{e(!0),setTimeout(()=>t(u),100),setTimeout(()=>e(!1),500)},styles:{opacity:o?0:1,transition:"opacity .2s"}}},Q=5,v=()=>{const t=p(n=>n.quiz.list),o=p(n=>n.quiz.isLoading),[e,l]=a.useState(0),r=a.useMemo(()=>t[e],[t,e]),u=()=>{e<t.length&&l(n=>n+1)},[_,x]=a.useState(0),[d,q]=a.useState(Q),m=d===0,z=e===25,c=n=>{const g=t[e].answer;n===g?x(h=>h+1):q(h=>h-1),u()};return{currentQuiz:r,isLoading:o,currentIndex:e+1,guess:c,loose:m,win:z,totalGuessed:_,attempts:d,MAX_QUESTIONS:t.length}},C="_quizWrap_1xf7s_1",T="_quizContent_1xf7s_12",y="_quizStatus_1xf7s_23",I="_gameOver_1xf7s_1",N="_quizOver_1xf7s_35",A="_quizQuestion_1xf7s_47",M="_quizOptions_1xf7s_59",E="_animation_1xf7s_66",L="_quizBtn_1xf7s_71",G="_gradient_1xf7s_1",i={quizWrap:C,quizContent:T,quizStatus:y,gameOver:I,quizOver:N,quizQuestion:A,quizOptions:M,animation:E,quizBtn:L,gradient:G},w=()=>{var z;const{isLoading:t,currentQuiz:o={},currentIndex:e,guess:l,loose:r,win:u,totalGuessed:_,attempts:x,MAX_QUESTIONS:d}=v(),{handleChange:q,styles:m}=O(l);return t?s.jsx(f,{}):r||u?s.jsxs("div",{className:i.quizOver,children:[s.jsx("p",{children:"Game over!"}),s.jsxs("p",{children:["Guessed: ",_]})]}):s.jsxs("div",{className:i.quizWrap,children:[s.jsx("div",{className:i.quizStatus,children:(!r||!u)&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:["Question: ",e," / ",d]}),s.jsxs("p",{children:["Attempts: ",x]})]})}),s.jsxs("div",{className:i.quizContent,style:m,children:[s.jsx("div",{className:i.quizQuestion,children:s.jsx("p",{dangerouslySetInnerHTML:{__html:o.question}})}),s.jsx("div",{className:i.quizOptions,children:(z=o.options)==null?void 0:z.map(c=>s.jsx("button",{className:i.quizBtn,onClick:()=>q(c),dangerouslySetInnerHTML:{__html:c}},c))})]})]})},P=()=>{const t=j();return a.useEffect(()=>{t(S())},[]),s.jsx(w,{})};export{P as default};
