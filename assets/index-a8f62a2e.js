import{u as v,r as a,a as p,j as e,c as N}from"./index-94f2d404.js";const z="_wrap_rczpd_1",F="_contentWrap_rczpd_7",I="_profileWrap_rczpd_12",w="_imgWrap_rczpd_21",y="_loginForm_rczpd_37",C="_loginInp_rczpd_50",E="_btnsWrap_rczpd_70",D="_btn_rczpd_70",n={wrap:z,contentWrap:F,profileWrap:I,imgWrap:w,loginForm:y,loginInp:C,btnsWrap:E,btn:D},R=()=>{const d=v(),o=a.useRef(null),m=p(s=>s.session.username),u=p(s=>s.session.avatar),[t,r]=a.useState(!0),g=()=>{r(s=>!s)};a.useEffect(()=>{t||o.current.focus()},[t]);const h=()=>{r(!0),d(N({username:i,avatar:l}))},[i,_]=a.useState(m),x=s=>{_(s)},f=s=>{s.code==="Enter"&&r(!0)},[l,b]=a.useState(u),j=s=>{const W=s.target.files[0],c=new FileReader;c.readAsDataURL(W),c.addEventListener("load",()=>{b(c.result)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:n.wrap,children:e.jsx("div",{className:n.profileWrap,children:e.jsxs("div",{className:n.contentWrap,children:[e.jsxs("div",{className:n.imgWrap,children:[e.jsx("img",{src:l,alt:"profile_icon"}),e.jsxs("label",{className:n.btn,children:[e.jsx("input",{style:{display:"none"},id:"imgInput",onChange:j,type:"file"}),"select image"]})]}),e.jsxs("div",{className:n.loginForm,children:[e.jsxs("label",{className:n.loginInp,children:["Username",e.jsx("input",{className:n.loginInp,id:"loginInp",onKeyDown:f,ref:o,required:!0,onChange:s=>x(s.target.value),type:"text",value:i,disabled:t,maxLength:"20",minLength:"1",title:"no more than 20 characters"})]}),e.jsxs("div",{className:n.btnsWrap,children:[e.jsx("button",{className:n.btn,onClick:g,children:"Edit"}),e.jsx("button",{type:"submit",className:n.btn,onClick:h,children:"save changes"})]})]})]})})})})},L=()=>e.jsx(R,{});export{L as default};
